"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9551],{9551:function(e,l,i){i.r(l);var o=i(5893),a=i(7294),n=i(2175),r=i(6310),t=i(4173),s=i(6340),d=i(1163),v=i(5007),c=i(2134),u=i(1664),m=i.n(u);l.default=e=>{var l,i,u,h,p,x,j,f,g,N,b,D,I,y,P,w,F,S,C,E,k,B,O,A,q,L,_,M,T,Z,G,J,W,U,H,R,K,V,Y,z,Q,X,$,ee,el,ei,eo,ea,en,er;let et=(0,v.v9)(e=>e.counter.tourPkg);(0,v.v9)(e=>e.counter.FreeRegister);let es=(0,v.v9)(e=>e.counter.tourPkgStartDate),ed=(0,v.I0)(),ev=(0,d.useRouter)(),[ec,eu]=(0,a.useState)(!1),[em,eh]=(0,a.useState)(!1),[ep,ex]=(0,a.useState)([]),[ej,ef]=(0,a.useState)(""),eg=e=>{e===ej?ef(""):ef(e)};async function eN(){await (0,s.rZ)().then(e=>{200===e.status&&ex(e.data)}).catch(e=>{})}let eb=r.Ry().shape({firstName:r.Z_().required(" first name is required"),lastName:r.Z_().required("last name is required"),email:r.Z_().required("Email is required").email(),phone:r.Z_().required("Phone number is required").min(10),gender:r.Z_().required("Gender number is required"),dob:r.Z_().required("Date of Birth is required")}),eD={firstName:(null==e?void 0:null===(i=e.registerData)||void 0===i?void 0:null===(l=i.travellerInformation)||void 0===l?void 0:l.firstName)!=void 0?null==e?void 0:null===(h=e.registerData)||void 0===h?void 0:null===(u=h.travellerInformation)||void 0===u?void 0:u.firstName:"",lastName:(null==e?void 0:null===(x=e.registerData)||void 0===x?void 0:null===(p=x.travellerInformation)||void 0===p?void 0:p.lastName)!=void 0?null==e?void 0:null===(f=e.registerData)||void 0===f?void 0:null===(j=f.travellerInformation)||void 0===j?void 0:j.lastName:"",email:(null==e?void 0:null===(N=e.registerData)||void 0===N?void 0:null===(g=N.travellerInformation)||void 0===g?void 0:g.email)!=void 0?null==e?void 0:null===(D=e.registerData)||void 0===D?void 0:null===(b=D.travellerInformation)||void 0===b?void 0:b.email:"",phone:(null==e?void 0:null===(y=e.registerData)||void 0===y?void 0:null===(I=y.travellerInformation)||void 0===I?void 0:I.phone)!=void 0?null==e?void 0:null===(w=e.registerData)||void 0===w?void 0:null===(P=w.travellerInformation)||void 0===P?void 0:P.phone:"",gender:(null==e?void 0:null===(S=e.registerData)||void 0===S?void 0:null===(F=S.travellerInformation)||void 0===F?void 0:F.gender)!=void 0?null==e?void 0:null===(E=e.registerData)||void 0===E?void 0:null===(C=E.travellerInformation)||void 0===C?void 0:C.gender:"",dob:(null==e?void 0:null===(B=e.registerData)||void 0===B?void 0:null===(k=B.travellerInformation)||void 0===k?void 0:k.dob)!=void 0?(ea=""+((eo=new Date(null==e?void 0:null===(A=e.registerData)||void 0===A?void 0:null===(O=A.travellerInformation)||void 0===O?void 0:O.dob)).getMonth()+1),en=""+eo.getDate(),er=eo.getFullYear(),ea.length<2&&(ea="0"+ea),en.length<2&&(en="0"+en),[er,ea,en].join("-")):"",weight:(null==e?void 0:null===(L=e.registerData)||void 0===L?void 0:null===(q=L.travellerInformation)||void 0===q?void 0:q.weight)!=void 0?Number(null==e?void 0:null===(M=e.registerData)||void 0===M?void 0:null===(_=M.travellerInformation)||void 0===_?void 0:_.weight):"",profession:(null==e?void 0:null===(Z=e.registerData)||void 0===Z?void 0:null===(T=Z.travellerInformation)||void 0===T?void 0:T.profession)!=void 0?null==e?void 0:null===(J=e.registerData)||void 0===J?void 0:null===(G=J.travellerInformation)||void 0===G?void 0:G.profession:"",homePhone:(null==e?void 0:null===(U=e.registerData)||void 0===U?void 0:null===(W=U.travellerInformation)||void 0===W?void 0:W.homePhone)!=void 0?null==e?void 0:null===(R=e.registerData)||void 0===R?void 0:null===(H=R.travellerInformation)||void 0===H?void 0:H.homePhone:"",nationality:(null==e?void 0:null===(V=e.registerData)||void 0===V?void 0:null===(K=V.travellerInformation)||void 0===K?void 0:K.nationality)!=void 0?null==e?void 0:null===(z=e.registerData)||void 0===z?void 0:null===(Y=z.travellerInformation)||void 0===Y?void 0:Y.nationality:"",professionOther:(null==e?void 0:null===(X=e.registerData)||void 0===X?void 0:null===(Q=X.travellerInformation)||void 0===Q?void 0:Q.professionOther)!=void 0?null==e?void 0:null===(ee=e.registerData)||void 0===ee?void 0:null===($=ee.travellerInformation)||void 0===$?void 0:$.professionOther:""},eI=(null==e?void 0:null===(el=e.registerData)||void 0===el?void 0:el.ID)!=void 0?null==e?void 0:null===(ei=e.registerData)||void 0===ei?void 0:ei.ID:"";(0,a.useEffect)(()=>{var l,i,o,a,n,r;(null==e?void 0:null===(i=e.registerData)||void 0===i?void 0:null===(l=i.travellerInformation)||void 0===l?void 0:l.firstName)!=void 0||(null==e?void 0:null===(a=e.registerData)||void 0===a?void 0:null===(o=a.travellerInformation)||void 0===o?void 0:o.lastName)!=void 0||(null==e?void 0:null===(r=e.registerData)||void 0===r?void 0:null===(n=r.travellerInformation)||void 0===n?void 0:n.email)!=void 0?eh(!0):eh(!1)},[]),(0,a.useEffect)(()=>{var l,i,o,a,n,r;(null==e?void 0:null===(i=e.registerData)||void 0===i?void 0:null===(l=i.travellerInformation)||void 0===l?void 0:l.firstName)!=void 0||(null==e?void 0:null===(a=e.registerData)||void 0===a?void 0:null===(o=a.travellerInformation)||void 0===o?void 0:o.lastName)!=void 0||(null==e?void 0:null===(r=e.registerData)||void 0===r?void 0:null===(n=r.travellerInformation)||void 0===n?void 0:n.email)!=void 0?eh(!0):eh(!1),eN()},[]);let ey=async e=>{let l=new Date(e.dob);e.dob=l,e.phone=Number(e.phone),e.homePhone=Number(e.homePhone),e.weight=Number(e.weight);let i={source:"T2T",packageInformation:{package:et,yatraStartDate:new Date(es),yatraEndDate:"0001-01-01T00:00:00.000+00:00",noOfPerson:1},travellerInformation:e};await (0,s.nl)(i,eI,"travellerinformation").then(e=>{200===e.status&&(t.Am.success(e.data.message),ev.replace(ev.asPath),ed((0,c.BK)(!0)),eh(!0),ed((0,c.EJ)(e.data.data.ID)))}).catch(e=>{})};return(0,o.jsx)(o.Fragment,{children:(0,o.jsxs)("div",{className:"accordion-item",children:[(0,o.jsx)("h2",{className:"accordion-header",id:"headingOne",children:(0,o.jsxs)("button",{className:"Item2"===ej?"accordion-button":"accordion-button collapsed",onClick:()=>eg("Item2"),type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapseOne","aria-expanded":"true","aria-controls":"collapseOne",children:[(0,o.jsx)("div",{className:"col-md-8",children:"Traveller Information"}),(0,o.jsx)("div",{className:"col-md-4 text-end",children:(0,o.jsxs)(m(),{href:"#!",className:!0===em?"edit btn":"save btn",children:[(0,o.jsxs)("div",{className:!0===em?"d-none ":"",children:[(0,o.jsx)("img",{src:"/images/icons/save.svg",width:"18px"}),(0,o.jsx)("span",{className:"mx-2",children:"Save"})]}),(0,o.jsxs)("div",{className:!0===em?"":"d-none ",children:[(0,o.jsx)("img",{src:"/images/icons/edit.svg",width:"12px"}),(0,o.jsx)("span",{className:"mx-2",children:" Edit"})]})]})})]})}),(0,o.jsx)("div",{id:"collapseOne",className:"Item2"===ej?"accordion-collapse collapse show":"accordion-collapse collapse","aria-labelledby":"headingOne","data-bs-parent":"#accordionExample",children:(0,o.jsx)("div",{className:"form-section",children:(0,o.jsx)(n.J9,{initialValues:eD,validationSchema:eb,onSubmit:ey,enableReinitialize:!0,children:e=>{let{handleChange:l,values:i,setFieldValue:a,errors:r}=e;return(0,o.jsx)(n.l0,{id:"UserUpdate",children:(0,o.jsxs)("div",{className:"row",children:[(0,o.jsxs)("div",{className:"col-md-6",children:[(0,o.jsx)("label",{htmlFor:"",className:"form-label",children:"First Name * :"}),(0,o.jsx)("input",{type:"text",name:"firstName",value:i.firstName,onChange:l,id:"firstName",className:r.firstName?"form-control is-invalid":"form-control",placeholder:"First Name"})]}),(0,o.jsxs)("div",{className:"col-md-6",children:[(0,o.jsx)("label",{htmlFor:"",className:"form-label",children:"Last Name * :"}),(0,o.jsx)("input",{type:"text",name:"lastName",value:i.lastName,onChange:l,id:"lastName",className:r.lastName?"form-control is-invalid":"form-control",placeholder:"Last Name"})]}),(0,o.jsxs)("div",{className:"col-md-3",children:[(0,o.jsx)("label",{htmlFor:"",className:"form-label",children:"Gender * :"}),(0,o.jsxs)("select",{name:"gender",value:i.gender,onChange:l,className:r.gender?" is-invalid form-control":"form-control",id:"gender","aria-label":"Gender",children:[(0,o.jsx)("option",{value:"",children:"--- Select Gender ---"}),(0,o.jsx)("option",{value:"Male",children:"Male"}),(0,o.jsx)("option",{value:"Female",children:"Female"})]})]}),(0,o.jsxs)("div",{className:"col-md-3",children:[(0,o.jsx)("label",{htmlFor:"",className:"form-label",children:"Weight * (Kgs)"}),(0,o.jsx)("input",{type:"text",name:"weight",value:i.weight,onChange:l,id:"weight",className:"form-control",placeholder:"Your Weight in Kg"})]}),(0,o.jsxs)("div",{className:"col-md-3",children:[(0,o.jsx)("label",{htmlFor:"",className:"form-label",children:"Profession *"}),(0,o.jsxs)("select",{name:"profession",value:i.profession,onChange:l,className:"form-select",id:"profession","aria-label":"Profession",children:[(0,o.jsx)("option",{value:"",children:"Select Profession"}),(0,o.jsx)("option",{value:"Physician",children:"Physician"}),(0,o.jsx)("option",{value:"Teacher",children:"Teacher"}),(0,o.jsx)("option",{value:"Architect",children:"Architect"}),(0,o.jsx)("option",{value:"Engineer",children:"Engineer"}),(0,o.jsx)("option",{value:"Scientist",children:"Scientist"}),(0,o.jsx)("option",{value:"Lawyer",children:"Lawyer"}),(0,o.jsx)("option",{value:"Accountant",children:"Accountant"}),(0,o.jsx)("option",{value:"Electrician",children:"Electrician"}),(0,o.jsx)("option",{value:"Pharmacist",children:"Pharmacist"}),(0,o.jsx)("option",{value:"Labourer",children:"Labourer"}),(0,o.jsx)("option",{value:"Waiting staff",children:"Waiting staff"}),(0,o.jsx)("option",{value:"Dentist",children:"Dentist"}),(0,o.jsx)("option",{value:"Designer",children:"Designer"}),(0,o.jsx)("option",{value:"Gardener",children:"Gardener"}),(0,o.jsx)("option",{value:"Chef",children:"Chef"}),(0,o.jsx)("option",{value:"Veterinarian",children:"Veterinarian"}),(0,o.jsx)("option",{value:"Police officer",children:"Police officer"}),(0,o.jsx)("option",{value:"Butcher",children:"Butcher"}),(0,o.jsx)("option",{value:"Firefighter",children:"Firefighter"}),(0,o.jsx)("option",{value:"Mail carrier",children:"Mail carrier"}),(0,o.jsx)("option",{value:"Businessperson",children:"Businessperson"}),(0,o.jsx)("option",{value:"Journalist",children:"Journalist"}),(0,o.jsx)("option",{value:"Librarian",children:"Librarian"}),(0,o.jsx)("option",{value:"Secretary",children:"Secretary"}),(0,o.jsx)("option",{value:"Artist",children:"Artist"}),(0,o.jsx)("option",{value:"Nurse",children:"Nurse"}),(0,o.jsx)("option",{value:"Politician",children:"Politician"}),(0,o.jsx)("option",{value:"Hairdresser",children:"Hairdresser"}),(0,o.jsx)("option",{value:"Farmer",children:"Farmer"}),(0,o.jsx)("option",{value:"Actor",children:"Actor"}),(0,o.jsx)("option",{value:"Aviator",children:"Aviator"}),(0,o.jsx)("option",{value:"Dietitian",children:"Dietitian"}),(0,o.jsx)("option",{value:"Judge",children:"Judge"}),(0,o.jsx)("option",{value:"Construction worker",children:"Construction worker"}),(0,o.jsx)("option",{value:"Salesperson",children:"Salesperson"}),(0,o.jsx)("option",{value:"Bakers",children:"Bakers"}),(0,o.jsx)("option",{value:"Fisherman",children:"Fisherman"}),(0,o.jsx)("option",{value:"Tailor",children:"Tailor"}),(0,o.jsx)("option",{value:"Plumber",children:"Plumber"}),(0,o.jsx)("option",{value:"Bricklayer",children:"Bricklayer"}),(0,o.jsx)("option",{value:"Lifeguard",children:"Lifeguard"}),(0,o.jsx)("option",{value:"Soldier",children:"Soldier"}),(0,o.jsx)("option",{value:"Astronomer",children:"Astronomer"}),(0,o.jsx)("option",{value:"Software Developer",children:"Software Developer"}),(0,o.jsx)("option",{value:"Writer",children:"Writer"}),(0,o.jsx)("option",{value:"Optician",children:"Optician"}),(0,o.jsx)("option",{value:"Consultant",children:"Consultant"}),(0,o.jsx)("option",{value:"Estate agent",children:"Estate agent"}),(0,o.jsx)("option",{value:"Economist",children:"Economist"}),(0,o.jsx)("option",{value:"Bus driver",children:"Bus driver"}),(0,o.jsx)("option",{value:"Painter and decorator",children:"Painter and decorator"}),(0,o.jsx)("option",{value:"Other",children:"Other"})]})]}),(0,o.jsxs)("div",{className:"col-md-3",children:[(0,o.jsx)("label",{htmlFor:"",className:"form-label",children:"Nationality *"}),(0,o.jsxs)("select",{name:"nationality",value:i.nationality,onChange:l,className:"form-select",id:"nationality",children:[(0,o.jsx)("option",{value:"",children:"--- Select Country---"}),null!=ep&&ep.map(e=>(0,o.jsx)(o.Fragment,{children:(0,o.jsx)("option",{value:null==e?void 0:e.name,children:null==e?void 0:e.name})}))]})]}),(0,o.jsxs)("div",{className:"col-md-6",children:[(0,o.jsx)("label",{htmlFor:"",className:"form-label",children:"E-Mail ID * :"}),(0,o.jsx)("input",{type:"email",name:"email",value:i.email,onChange:l,className:r.email?"form-control is-invalid":"form-control",id:"email",placeholder:"E-Mail ID"})]}),(0,o.jsxs)("div",{className:"col-md-6",children:[(0,o.jsx)("label",{htmlFor:"",className:"form-label",children:"Mobile No. :"}),(0,o.jsx)("div",{className:"row",children:(0,o.jsx)("div",{className:"col-md-12",children:(0,o.jsx)("input",{type:"text",name:"phone",value:i.phone,onChange:l,className:r.phone?"form-control is-invalid":"form-control",id:"phone",placeholder:"Mobile Number"})})})]}),(0,o.jsxs)("div",{className:"col-md-6",children:[(0,o.jsx)("label",{htmlFor:"",className:"form-label",children:"Home Phone No. :"}),(0,o.jsx)("div",{className:"row",children:(0,o.jsx)("div",{className:"col-md-12",children:(0,o.jsx)("input",{type:"text",className:"form-control",name:"homePhone",value:i.homePhone,onChange:l,id:"homePhone",placeholder:"Home Phone Number"})})})]}),(0,o.jsxs)("div",{className:"col-md-3 mb-3",children:[(0,o.jsx)("label",{htmlFor:"",className:"form-label",children:"DOB * :"}),(0,o.jsx)("input",{type:"date",className:"form-control",name:"dob",value:i.dob,onChange:l,id:"dob",placeholder:"Date of Birth"})]}),(0,o.jsx)("div",{className:"col-md-12",children:(0,o.jsx)("div",{className:"d-flex justify-content-end",children:(0,o.jsxs)("button",{type:"submit",form:"UserUpdate",className:!0==em?"save btn btn-danger":"save btn btn-success",children:[(0,o.jsx)("div",{className:!0==em?"d-none":"",children:(0,o.jsx)("span",{className:"mx-2",children:"Submit"})}),(0,o.jsx)("div",{className:!0==em?"":"d-none",children:(0,o.jsx)("span",{className:"mx-2",children:"Update"})})]})})})]})})}})})})]})})}}}]);