(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7450],{3292:function(t,o,e){var r=e(5266).pZ;t.exports=function(t){var o=[1/0,1/0,-1/0,-1/0];return r(t,function(t){o[0]>t[0]&&(o[0]=t[0]),o[1]>t[1]&&(o[1]=t[1]),o[2]<t[0]&&(o[2]=t[0]),o[3]<t[1]&&(o[3]=t[1])}),o}},7057:function(t){function o(t,o,e,r){if(void 0===t)throw Error("geometry is required");if(o&&o.constructor!==Object)throw Error("properties must be an Object");if(e&&4!==e.length)throw Error("bbox must be an Array of 4 numbers");if(r&&-1===["string","number"].indexOf(typeof r))throw Error("id must be a number or a string");var n={type:"Feature"};return r&&(n.id=r),e&&(n.bbox=e),n.properties=o||{},n.geometry=t,n}function e(t,e,r,n){if(!t)throw Error("No coordinates passed");if(void 0===t.length)throw Error("Coordinates must be an array");if(t.length<2)throw Error("Coordinates must be at least 2 numbers long");if(!h(t[0])||!h(t[1]))throw Error("Coordinates must contain numbers");return o({type:"Point",coordinates:t},e,r,n)}function r(t,e,r,n){if(!t)throw Error("No coordinates passed");for(var i=0;i<t.length;i++){var a=t[i];if(a.length<4)throw Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var s=0;s<a[a.length-1].length;s++){if(0===i&&0===s&&!h(a[0][0])||!h(a[0][1]))throw Error("Coordinates must contain numbers");if(a[a.length-1][s]!==a[0][s])throw Error("First and last Position are not equivalent.")}}return o({type:"Polygon",coordinates:t},e,r,n)}function n(t,e,r,n){if(!t)throw Error("No coordinates passed");if(t.length<2)throw Error("Coordinates must be an array of two or more positions");if(!h(t[0][1])||!h(t[0][1]))throw Error("Coordinates must contain numbers");return o({type:"LineString",coordinates:t},e,r,n)}function i(t,e,r,n){if(!t)throw Error("No coordinates passed");return o({type:"MultiLineString",coordinates:t},e,r,n)}function a(t,e,r,n){if(!t)throw Error("No coordinates passed");return o({type:"MultiPoint",coordinates:t},e,r,n)}function s(t,e,r,n){if(!t)throw Error("No coordinates passed");return o({type:"MultiPolygon",coordinates:t},e,r,n)}var p={miles:3960,nauticalmiles:3441.145,degrees:57.2957795,radians:1,inches:250905600,yards:6969600,meters:6373e3,metres:6373e3,centimeters:6373e5,centimetres:6373e5,kilometers:6373,kilometres:6373,feet:20908792.65},u={kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,centimetres:1e4,millimeter:1e6,acres:247105e-9,miles:386e-9,yards:1.195990046,feet:10.763910417,inches:1550.003100006};function c(t,o){if(null==t)throw Error("radians is required");var e=p[o||"kilometers"];if(!e)throw Error("units is invalid");return t*e}function l(t,o){if(null==t)throw Error("distance is required");var e=p[o||"kilometers"];if(!e)throw Error("units is invalid");return t/e}function f(t){if(null==t)throw Error("radians is required");return t%(2*Math.PI)*180/Math.PI}function h(t){return!isNaN(t)&&null!==t&&!Array.isArray(t)}t.exports={feature:o,geometry:function(t,o,p){var u;if(!t)throw Error("type is required");if(!o)throw Error("coordinates is required");if(!Array.isArray(o))throw Error("coordinates must be an Array");if(p&&4!==p.length)throw Error("bbox must be an Array of 4 numbers");switch(t){case"Point":u=e(o).geometry;break;case"LineString":u=n(o).geometry;break;case"Polygon":u=r(o).geometry;break;case"MultiPoint":u=a(o).geometry;break;case"MultiLineString":u=i(o).geometry;break;case"MultiPolygon":u=s(o).geometry;break;default:throw Error(t+" is invalid")}return p&&(u.bbox=p),u},featureCollection:function(t,o,e){if(!t)throw Error("No features passed");if(!Array.isArray(t))throw Error("features must be an Array");if(o&&4!==o.length)throw Error("bbox must be an Array of 4 numbers");if(e&&-1===["string","number"].indexOf(typeof e))throw Error("id must be a number or a string");var r={type:"FeatureCollection"};return e&&(r.id=e),o&&(r.bbox=o),r.features=t,r},geometryCollection:function(t,e,r,n){if(!t)throw Error("geometries is required");if(!Array.isArray(t))throw Error("geometries must be an Array");return o({type:"GeometryCollection",geometries:t},e,r,n)},point:e,multiPoint:a,lineString:n,multiLineString:i,polygon:r,multiPolygon:s,radiansToDistance:c,distanceToRadians:l,distanceToDegrees:function(t,o){return f(l(t,o))},radians2degrees:f,degrees2radians:function(t){if(null==t)throw Error("degrees is required");return t%360*Math.PI/180},bearingToAngle:function(t){if(null==t)throw Error("bearing is required");var o=t%360;return o<0&&(o+=360),o},convertDistance:function(t,o,e){if(null==t)throw Error("distance is required");if(!(t>=0))throw Error("distance must be a positive number");return c(l(t,o),e||"kilometers")},convertArea:function(t,o,e){if(null==t)throw Error("area is required");if(!(t>=0))throw Error("area must be a positive number");var r=u[o||"meters"];if(!r)throw Error("invalid original units");var n=u[e||"kilometers"];if(!n)throw Error("invalid final units");return t/r*n},round:function(t,o){if(null==t||isNaN(t))throw Error("num is required");if(o&&!(o>=0))throw Error("precision must be a positive number");var e=Math.pow(10,o||0);return Math.round(t*e)/e},isNumber:h}},5266:function(t,o,e){"use strict";e.d(o,{pZ:function(){return function t(o,e,r){if(null!==o){var n,i,a,s,p,u,c,l,f,h,d=0,m=0,y=o.type,g="FeatureCollection"===y,v="Feature"===y,b=g?o.features.length:1;for(n=0;n<b;n++)for(i=0,c=(h=!!(f=g?o.features[n].geometry:v?o.geometry:o)&&"GeometryCollection"===f.type)?f.geometries.length:1;i<c;i++){var C=0;if(null!==(u=h?f.geometries[i]:f)){l=u.coordinates;var O=u.type;switch(d=r&&("Polygon"===O||"MultiPolygon"===O)?1:0,O){case null:break;case"Point":e(l,m,n,C),m++,C++;break;case"LineString":case"MultiPoint":for(a=0;a<l.length;a++)e(l[a],m,n,C),m++,"MultiPoint"===O&&C++;"LineString"===O&&C++;break;case"Polygon":case"MultiLineString":for(a=0;a<l.length;a++){for(s=0;s<l[a].length-d;s++)e(l[a][s],m,n,C),m++;"MultiLineString"===O&&C++}"Polygon"===O&&C++;break;case"MultiPolygon":for(a=0;a<l.length;a++){for(s=0;s<l[a].length;s++)for(p=0;p<l[a][s].length-d;p++)e(l[a][s][p],m,n,C),m++;C++}break;case"GeometryCollection":for(a=0;a<u.geometries.length;a++)t(u.geometries[a],e,r);break;default:throw Error("Unknown Geometry Type")}}}}}}})},251:function(t,o,e){var r=Array.prototype.slice,n=e(1705),i=e(5539),a=t.exports=function(t,o,e){return e||(e={}),t===o||(t instanceof Date&&o instanceof Date?t.getTime()===o.getTime():t&&o&&("object"==typeof t||"object"==typeof o)?function(t,o,e){if(null==t||null==o||t.prototype!==o.prototype)return!1;if(i(t))return!!i(o)&&a(t=r.call(t),o=r.call(o),e);if(s(t)){if(!s(o)||t.length!==o.length)return!1;for(p=0;p<t.length;p++)if(t[p]!==o[p])return!1;return!0}try{var p,u,c=n(t),l=n(o)}catch(t){return!1}if(c.length!=l.length)return!1;for(c.sort(),l.sort(),p=c.length-1;p>=0;p--)if(c[p]!=l[p])return!1;for(p=c.length-1;p>=0;p--)if(!a(t[u=c[p]],o[u],e))return!1;return typeof t==typeof o}(t,o,e):e.strict?t===o:t==o)};function s(t){return!!t&&"object"==typeof t&&"number"==typeof t.length&&"function"==typeof t.copy&&"function"==typeof t.slice&&(!(t.length>0)||"number"==typeof t[0])}},5539:function(t,o){var e="[object Arguments]"==function(){return Object.prototype.toString.call(arguments)}();function r(t){return"[object Arguments]"==Object.prototype.toString.call(t)}function n(t){return t&&"object"==typeof t&&"number"==typeof t.length&&Object.prototype.hasOwnProperty.call(t,"callee")&&!Object.prototype.propertyIsEnumerable.call(t,"callee")||!1}(o=t.exports=e?r:n).supported=r,o.unsupported=n},1705:function(t,o){(t.exports="function"==typeof Object.keys?Object.keys:e).shim=e;function e(t){var o=[];for(var e in t)o.push(e);return o}},7450:function(t,o,e){"use strict";e.d(o,{mh:function(){return oa},Jx:function(){return tA},GI:function(){return tM},jf:function(){return tI},Hw:function(){return tR},Ly:function(){return ti},ZP:function(){return os}});var r,n,i,a,s,p,u,c,l,f,h,d,m,y,g=e(6158),v=e(7294),b=function(){return(b=Object.assign||function(t){for(var o,e=1,r=arguments.length;e<r;e++)for(var n in o=arguments[e])Object.prototype.hasOwnProperty.call(o,n)&&(t[n]=o[n]);return t}).apply(this,arguments)},C={onResize:"resize",onDblClick:"dblclick",onClick:"click",onMouseMove:"mousemove",onMouseOut:"mouseout",onMoveStart:"movestart",onMove:"move",onMoveEnd:"moveend",onMouseUp:"mouseup",onMouseDown:"mousedown",onDragStart:"dragstart",onDrag:"drag",onDragEnd:"dragend",onZoomStart:"zoomstart",onZoom:"zoom",onZoomEnd:"zoomend",onPitch:"pitch",onPitchStart:"pitchstart",onPitchEnd:"pitchend",onWebGlContextLost:"webglcontextlost",onWebGlContextRestored:"webglcontextrestored",onRemove:"remove",onContextMenu:"contextmenu",onRender:"render",onError:"error",onSourceData:"sourcedata",onDataLoading:"dataloading",onStyleDataLoading:"styledataloading",onStyleImageMissing:"styleimagemissing",onTouchCancel:"touchcancel",onData:"data",onSourceDataLoading:"sourcedataloading",onTouchMove:"touchmove",onTouchEnd:"touchend",onTouchStart:"touchstart",onStyleData:"styledata",onBoxZoomStart:"boxzoomstart",onBoxZoomEnd:"boxzoomend",onBoxZoomCancel:"boxzoomcancel",onRotateStart:"rotatestart",onRotate:"rotate",onRotateEnd:"rotateend"},O=function(t,o,e){return Object.keys(t).reduce(function(r,n){var i=o[n];if(i){var a=function(t){i(e,t)};e.on(t[n],a),r[n]=a}return r},{})},w=function(t,o,e){Object.keys(C).filter(function(e){return t[e]&&"function"!=typeof o[e]}).forEach(function(o){e.off(C[o],t[o]),delete t[o]});var r=O(Object.keys(C).filter(function(e){return!t[e]&&"function"==typeof o[e]}).reduce(function(t,o){return t[o]=C[o],t},{}),o,e);return b({},t,r)},M=function(){return(M=Object.assign||function(t){for(var o,e=1,r=arguments.length;e<r;e++)for(var n in o=arguments[e])Object.prototype.hasOwnProperty.call(o,n)&&(t[n]=o[n]);return t}).apply(this,arguments)},x=v.createContext(void 0);function _(t){return function(o){return v.createElement(x.Consumer,null,function(e){return v.createElement(t,M({map:e},o))})}}var P=e(3935),S=(r=function(t,o){return(r=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var e in o)o.hasOwnProperty(e)&&(t[e]=o[e])})(t,o)},function(t,o){function e(){this.constructor=t}r(t,o),t.prototype=null===o?Object.create(o):(e.prototype=o.prototype,new e)}),E=function(){return(E=Object.assign||function(t){for(var o,e=1,r=arguments.length;e<r;e++)for(var n in o=arguments[e])Object.prototype.hasOwnProperty.call(o,n)&&(t[n]=o[n]);return t}).apply(this,arguments)},k=e(251),j=[11],D="flyTo",I=[-.2416815,51.5285582],L=function(t,o){var e={};return Array.from(new Set(Object.keys(t).concat(Object.keys(o)))).map(function(r){t[r]!==o[r]&&(e[r]=o[r])}),e},z=(n=function(t,o){return(n=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var e in o)o.hasOwnProperty(e)&&(t[e]=o[e])})(t,o)},function(t,o){function e(){this.constructor=t}n(t,o),t.prototype=null===o?Object.create(o):(e.prototype=o.prototype,new e)}),A=function(){return(A=Object.assign||function(t){for(var o,e=1,r=arguments.length;e<r;e++)for(var n in o=arguments[e])Object.prototype.hasOwnProperty.call(o,n)&&(t[n]=o[n]);return t}).apply(this,arguments)},Z=e(251),F={touchstart:"onTouchStart",touchend:"onTouchEnd",touchcancel:"onTouchCancel",mousemove:"onMouseMove",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",mousedown:"onMouseDown",mouseup:"onMouseUp",click:"onClick"},R=function(t){function o(){var o=null!==t&&t.apply(this,arguments)||this;return o.source=A({type:"geojson"},o.props.geoJSONSourceOptions,{data:{type:"FeatureCollection",features:[]}}),o.geometry=function(t){switch(o.props.type){case"symbol":case"circle":default:return{type:"Point",coordinates:t};case"fill":if(Array.isArray(t[0][0][0]))return{type:"MultiPolygon",coordinates:t};return{type:"Polygon",coordinates:t};case"line":return{type:"LineString",coordinates:t}}},o.makeFeature=function(t,e){return{type:"Feature",geometry:o.geometry(t.coordinates),properties:A({},t.properties,{id:e})}},o.initialize=function(){var t=o.props,e=t.type,r=t.layout,n=t.paint,i=t.sourceId,a=t.before,s=t.images,p=t.id,u=t.metadata,c=t.sourceLayer,l=t.minZoom,f=t.maxZoom,h=t.filter,d=o.props.map,m={id:p,source:i||p,type:e,layout:r,paint:n,metadata:u};c&&(m["source-layer"]=c),l&&(m.minzoom=l),f&&(m.maxzoom=f),h&&(m.filter=h),s&&(Array.isArray(s[0])?s:[s]).filter(function(t){return!d.hasImage(t[0])}).forEach(function(t){d.addImage(t[0],t[1],t[2])}),i||d.getSource(p)||d.addSource(p,o.source),d.getLayer(p)||d.addLayer(m,a),Object.entries(F).forEach(function(t){var e=t[0],r=t[1],n=o.props[r];n&&d.on(e,p,n)})},o.onStyleDataChange=function(){o.props.map.getLayer(o.props.id)||(o.initialize(),o.forceUpdate())},o.getChildren=function(){var t=o.props.children;return t?Array.isArray(t)?t.reduce(function(t,o){return t.concat(o)},[]):[t]:[]},o}return z(o,t),o.prototype.componentDidMount=function(){var t=this.props.map;this.initialize(),t.on("styledata",this.onStyleDataChange)},o.prototype.componentWillUnmount=function(){var t=this,o=this.props.map,e=this.props,r=e.images,n=e.id;o&&o.getStyle()&&(o.off("styledata",this.onStyleDataChange),Object.entries(F).forEach(function(e){var r=e[0],i=e[1],a=t.props[i];a&&o.off(r,n,a)}),o.getLayer(n)&&o.removeLayer(n),this.props.sourceId||o.removeSource(n),r&&(Array.isArray(r[0])?r:[r]).map(function(t){var o=t[0];return t.slice(1),o}).forEach(o.removeImage.bind(o)))},o.prototype.componentDidUpdate=function(t){var o=this,e=t.paint,r=t.layout,n=t.before,i=t.filter,a=t.id,s=t.minZoom,p=t.maxZoom,u=t.map;if(!Z(this.props.paint,e)){var c=L(e,this.props.paint);Object.keys(c).forEach(function(t){u.setPaintProperty(a,t,c[t])})}if(!Z(this.props.layout,r)){var l=L(r,this.props.layout);Object.keys(l).forEach(function(t){u.setLayoutProperty(a,t,l[t])})}Z(this.props.filter,i)||u.setFilter(a,this.props.filter),n!==this.props.before&&u.moveLayer(a,this.props.before),(s!==this.props.minZoom||p!==this.props.maxZoom)&&u.setLayerZoomRange(a,this.props.minZoom,this.props.maxZoom),Object.entries(F).forEach(function(e){var r=e[0],n=e[1],i=t[n],s=o.props[n];i!==s&&(i&&u.off(r,a,i),s&&u.on(r,a,s))})},o.prototype.render=function(){var t=this,o=this.props.map,e=this.props,r=e.sourceId,n=e.draggedChildren,i=this.getChildren();if(n){var a=n.map(function(t){return t.key});i=i.map(function(t){var o=a.indexOf(t.key);return -1!==o?n[o]:t})}var s=i.map(function(o,e){var r=o.props;return t.makeFeature(r,e)}).filter(Boolean),p=o.getSource(r||this.props.id);return p&&!r&&p.setData&&p.setData({type:"FeatureCollection",features:s}),null},o.defaultProps={type:"symbol",layout:{},paint:{}},o}(v.Component),B=0,T=function(){return B+=1},N=(i=function(t,o){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var e in o)o.hasOwnProperty(e)&&(t[e]=o[e])})(t,o)},function(t,o){function e(){this.constructor=t}i(t,o),t.prototype=null===o?Object.create(o):(e.prototype=o.prototype,new e)}),U=function(){return(U=Object.assign||function(t){for(var o,e=1,r=arguments.length;e<r;e++)for(var n in o=arguments[e])Object.prototype.hasOwnProperty.call(o,n)&&(t[n]=o[n]);return t}).apply(this,arguments)},J=(a=function(t,o){return(a=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var e in o)o.hasOwnProperty(e)&&(t[e]=o[e])})(t,o)},function(t,o){function e(){this.constructor=t}a(t,o),t.prototype=null===o?Object.create(o):(e.prototype=o.prototype,new e)}),W=function(){return(W=Object.assign||function(t){for(var o,e=1,r=arguments.length;e<r;e++)for(var n in o=arguments[e])Object.prototype.hasOwnProperty.call(o,n)&&(t[n]=o[n]);return t}).apply(this,arguments)},q=e(251),G=["symbol","line","fill","fill-extrusion","circle"],H=function(t){return t.replace(/(?:^\w|[A-Z]|\b\w)/g,function(t,o){return 0===o?t.toLowerCase():t.toUpperCase()}).replace(/[\s+]|-/g,"")},$={mousemove:"OnMouseMove",mouseenter:"OnMouseEnter",mouseleave:"OnMouseLeave",mousedown:"OnMouseDown",mouseup:"OnMouseUp",click:"OnClick"};_(function(t){function o(){var o=null!==t&&t.apply(this,arguments)||this;return o.id=o.props.id||"geojson-"+T(),o.source=W({type:"geojson"},o.props.sourceOptions,{data:o.props.data}),o.layerIds=[],o.buildLayerId=function(t){return o.id+"-"+t},o.createLayer=function(t){var e=o.props,r=e.before,n=e.layerOptions,i=e.map,a=o.buildLayerId(t);o.layerIds.push(a);var s=o.props[H(t)+"Paint"]||{},p=Object.keys(s).length?"visible":"none",u=o.props[H(t)+"Layout"]||{visibility:p},c=W({id:a,source:o.id,type:t,paint:s,layout:u},n);i.addLayer(c,r),o.mapLayerMouseHandlers(t)},o.mapLayerMouseHandlers=function(t){var e=o.props.map,r=o.buildLayerId(t);Object.keys($).forEach(function(n){var i=o.props[""+H(t)+$[n]]||null;i&&e.on(n,r,i)})},o.onStyleDataChange=function(){o.props.map.getSource(o.id)||(o.unbind(),o.initialize(),o.forceUpdate())},o.isGeoJSONSource=function(t){return!!t&&"function"==typeof t.setData},o}return J(o,t),o.prototype.initialize=function(){this.props.map.addSource(this.id,this.source),this.createLayer("symbol"),this.createLayer("line"),this.createLayer("fill"),this.createLayer("fill-extrusion"),this.createLayer("circle")},o.prototype.unbind=function(){var t=this,o=this.props.map;if(o.getSource(this.id)){var e=o.getStyle().layers;e&&e.filter(function(o){return o.source===t.id}).forEach(function(t){return o.removeLayer(t.id)}),o.removeSource(this.id)}G.forEach(function(e){Object.keys($).forEach(function(r){var n=H(e)+$[r];t.props[n]&&o.off(r,t.buildLayerId(e),t.props[n])})}),this.layerIds.forEach(function(t){o.getLayer(t)&&o.removeLayer(t)})},o.prototype.componentDidMount=function(){var t=this.props.map;this.initialize(),t.on("styledata",this.onStyleDataChange)},o.prototype.componentWillUnmount=function(){var t=this.props.map;t&&t.getStyle()&&(t.off("styledata",this.onStyleDataChange),this.unbind())},o.prototype.componentDidUpdate=function(t){var o=this,e=t.data,r=t.before,n=t.layerOptions,i=t.map,a=i.getSource(this.id);if(this.isGeoJSONSource(a)){this.props.data!==e&&(a.setData(this.props.data),this.source=W({type:"geojson"},this.props.sourceOptions,{data:this.props.data}));var s=this.props.layerOptions&&n&&!q(this.props.layerOptions.filter,n.filter);G.forEach(function(e){var n=o.buildLayerId(e);o.props.layerOptions&&s&&i.setFilter(n,o.props.layerOptions.filter||[]);var a=H(e)+"Paint";if(!q(t[a],o.props[a])){var p=L(t[a],o.props[a]);Object.keys(p).forEach(function(t){i.setPaintProperty(n,t,p[t])})}var u=H(e)+"Layout";if(!q(t[u],o.props[u])){var c=L(t[u],o.props[u]);Object.keys(c).forEach(function(t){i.setLayoutProperty(n,t,c[t])})}Object.keys($).forEach(function(r){var a=H(e)+$[r];t[a]!==o.props[a]&&(t[a]&&i.off(r,n,t[a]),o.props[a]&&i.on(r,n,o.props[a]))}),r!==o.props.before&&i.moveLayer(n,o.props.before)})}},o.prototype.render=function(){return null},o}(v.Component));var K=(s=function(t,o){return(s=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var e in o)o.hasOwnProperty(e)&&(t[e]=o[e])})(t,o)},function(t,o){function e(){this.constructor=t}s(t,o),t.prototype=null===o?Object.create(o):(e.prototype=o.prototype,new e)});!function(t){function o(){return null!==t&&t.apply(this,arguments)||this}K(o,t),o.prototype.render=function(){return null}}(v.Component);var Q=(p=function(t,o){return(p=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var e in o)o.hasOwnProperty(e)&&(t[e]=o[e])})(t,o)},function(t,o){function e(){this.constructor=t}p(t,o),t.prototype=null===o?Object.create(o):(e.prototype=o.prototype,new e)}),V=function(){return(V=Object.assign||function(t){for(var o,e=1,r=arguments.length;e<r;e++)for(var n in o=arguments[e])Object.prototype.hasOwnProperty.call(o,n)&&(t[n]=o[n]);return t}).apply(this,arguments)},X={position:"absolute",zIndex:10,display:"flex",flexDirection:"column",boxShadow:"0px 1px 4px rgba(0, 0, 0, .3)",border:"1px solid rgba(0, 0, 0, 0.1)"},Y={"top-right":{top:10,right:10,bottom:"auto",left:"auto"},"top-left":{top:10,left:10,bottom:"auto",right:"auto"},"bottom-right":{bottom:10,right:10,top:"auto",left:"auto"},"bottom-left":{bottom:10,left:10,top:"auto",right:"auto"}},tt={backgroundColor:"#f9f9f9",opacity:.95,transition:"background-color 0.16s ease-out",cursor:"pointer",border:0,height:26,width:26,backgroundImage:"url('https://api.mapbox.com/mapbox.js/v2.4.0/images/icons-000000@2x.png')",backgroundPosition:"0px 0px",backgroundSize:"26px 260px",outline:0},to={backgroundColor:"#fff",opacity:1},te={borderBottom:"1px solid rgba(0, 0, 0, 0.1)",borderTopLeftRadius:2,borderTopRightRadius:2},tr={backgroundPosition:"0px -26px",borderBottomLeftRadius:2,borderBottomRightRadius:2},tn=Object.keys(Y),ti=_(function(t){function o(){var o=null!==t&&t.apply(this,arguments)||this;return o.state={hover:void 0},o.onMouseOut=function(){o.setState({hover:void 0})},o.plusOver=function(){0!==o.state.hover&&o.setState({hover:0})},o.minusOver=function(){1!==o.state.hover&&o.setState({hover:1})},o.onClickPlus=function(){o.props.onControlClick(o.props.map,o.props.zoomDiff)},o.onClickMinus=function(){o.props.onControlClick(o.props.map,-o.props.zoomDiff)},o}return Q(o,t),o.prototype.render=function(){var t=this.props,o=t.position,e=t.style,r=t.className,n=t.tabIndex,i=this.state.hover,a=V({},tt,te,0===i?to:{}),s=V({},tt,tr,1===i?to:{});return v.createElement("div",{className:r,tabIndex:n,style:V({},X,Y[o],e)},v.createElement("button",{id:"zoomIn",type:"button",style:a,"aria-label":"Zoom in",onMouseOver:this.plusOver,onMouseOut:this.onMouseOut,onClick:this.onClickPlus}),v.createElement("button",{id:"zoomOut",type:"button",style:s,"aria-label":"Zoom out",onMouseOver:this.minusOver,onMouseOut:this.onMouseOut,onClick:this.onClickMinus}))},o.defaultProps={position:tn[0],zoomDiff:.5,onControlClick:function(t,o){t.zoomTo(t.getZoom()+o)}},o}(v.Component)),ta=["center","top","bottom","left","right","top-left","top-right","bottom-left","bottom-right"],ts={center:"translate(-50%, -50%)",top:"translate(-50%, 0)",left:"translate(0, -50%)",right:"translate(-100%, -50%)",bottom:"translate(-50%, -100%)","top-left":"translate(0, 0)","top-right":"translate(-100%, 0)","bottom-left":"translate(0, -100%)","bottom-right":"translate(-100%, -100%)"},tp={offsetWidth:0,offsetHeight:0},tu=[0,0],tc=function(t,o,e,r){var n=void 0===r?tp:r,i=n.offsetHeight,a=n.offsetWidth,s=[];return(e.y+o.bottom.y-i<0?s=[ta[1]]:e.y+o.top.y+i>t.transform.height&&(s=[ta[2]]),e.x<a/2?s.push(ta[3]):e.x>t.transform.width-a/2&&s.push(ta[4]),0===s.length)?ta[2]:s.join("-")},tl=function(t){if(!t)return tl(new g.Point(0,0));if("number"==typeof t){var o=Math.round(Math.sqrt(.5*Math.pow(t,2)));return{center:new g.Point(t,t),top:new g.Point(0,t),bottom:new g.Point(0,-t),left:new g.Point(t,0),right:new g.Point(-t,0),"top-left":new g.Point(o,o),"top-right":new g.Point(-o,o),"bottom-left":new g.Point(o,-o),"bottom-right":new g.Point(-o,-o)}}return t instanceof g.Point||Array.isArray(t)?ta.reduce(function(o,e){return o[e]=g.Point.convert(t),o},{}):ta.reduce(function(o,e){return o[e]=g.Point.convert(t[e]||tu),o},{})},tf=function(t,o,e){var r,n=(r=t.coordinates,o.project(g.LngLat.convert(r))),i=tl(t.offset),a=t.anchor||tc(o,i,n,e);return{anchor:a,position:n,offset:i[a]}},th=function(t){return t?"translate("+t.x.toFixed(0)+"px, "+t.y.toFixed(0)+"px)":""},td=function(t){var o=t.anchor,e=t.position,r=t.offset,n=[];return e&&n.push(th(e)),r&&void 0!==r.x&&void 0!==r.y&&n.push(th(r)),o&&n.push(ts[o]),n},tm=(u=function(t,o){return(u=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var e in o)o.hasOwnProperty(e)&&(t[e]=o[e])})(t,o)},function(t,o){function e(){this.constructor=t}u(t,o),t.prototype=null===o?Object.create(o):(e.prototype=o.prototype,new e)}),ty=function(){return(ty=Object.assign||function(t){for(var o,e=1,r=arguments.length;e<r;e++)for(var n in o=arguments[e])Object.prototype.hasOwnProperty.call(o,n)&&(t[n]=o[n]);return t}).apply(this,arguments)},tg={zIndex:3},tv=_(function(t){function o(){var o=null!==t&&t.apply(this,arguments)||this;return o.container=void 0,o.prevent=!1,o.state={},o.setContainer=function(t){t&&(o.container=t)},o.handleMapMove=function(){o.prevent||o.setState(tf(o.props,o.props.map,o.container))},o}return tm(o,t),o.prototype.componentDidMount=function(){this.props.map.on("move",this.handleMapMove),this.handleMapMove()},o.prototype.havePropsChanged=function(t,o){return t.coordinates[0]!==o.coordinates[0]||t.coordinates[1]!==o.coordinates[1]||t.offset!==o.offset||t.anchor!==o.anchor},o.prototype.componentDidUpdate=function(t){this.havePropsChanged(this.props,t)&&this.setState(tf(this.props,this.props.map,this.container))},o.prototype.componentWillUnmount=function(){var t=this.props.map;this.prevent=!0,t.off("move",this.handleMapMove)},o.prototype.render=function(){var t=this.props,o=t.style,e=t.children,r=t.className,n=t.onClick,i=t.onDoubleClick,a=t.onMouseEnter,s=t.onMouseLeave,p=t.onScroll,u=t.onWheel,c=t.type,l=t.tabIndex,f=this.state.anchor,h=ty({},tg,o,{transform:td(this.state).join(" ")});return v.createElement("div",{className:r+" "+(f&&"popup"===c?"mapboxgl-popup-anchor-"+f:""),onClick:n,onDoubleClick:i,onMouseEnter:a,onMouseLeave:s,onScroll:p,onWheel:u,style:h,ref:this.setContainer,tabIndex:l},e)},o.defaultProps={offset:0,onClick:function(){for(var t=[],o=0;o<arguments.length;o++)t[o]=arguments[o];return t}},o}(v.Component)),tb=function(t,o){return o?o.split(" ").concat(t).join(" "):t.join(" ")},tC=(c=function(t,o){return(c=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var e in o)o.hasOwnProperty(e)&&(t[e]=o[e])})(t,o)},function(t,o){function e(){this.constructor=t}c(t,o),t.prototype=null===o?Object.create(o):(e.prototype=o.prototype,new e)}),tO=function(){return(tO=Object.assign||function(t){for(var o,e=1,r=arguments.length;e<r;e++)for(var n in o=arguments[e])Object.prototype.hasOwnProperty.call(o,n)&&(t[n]=o[n]);return t}).apply(this,arguments)},tw=["mapboxgl-popup"],tM=function(t){function o(){return null!==t&&t.apply(this,arguments)||this}return tC(o,t),o.prototype.render=function(){var t=this.props,o=t.children,e=t.className,r=tO({},this.props,{children:void 0}),n=tb(tw,e);return v.createElement(tv,tO({},r,{type:"popup",className:n}),v.createElement("div",{className:"mapboxgl-popup-tip"}),v.createElement("div",{className:"mapboxgl-popup-content"},o))},o}(v.Component),tx=(l=function(t,o){return(l=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var e in o)o.hasOwnProperty(e)&&(t[e]=o[e])})(t,o)},function(t,o){function e(){this.constructor=t}l(t,o),t.prototype=null===o?Object.create(o):(e.prototype=o.prototype,new e)}),t_=function(){return(t_=Object.assign||function(t){for(var o,e=1,r=arguments.length;e<r;e++)for(var n in o=arguments[e])Object.prototype.hasOwnProperty.call(o,n)&&(t[n]=o[n]);return t}).apply(this,arguments)},tP=["moveend","touchend","zoomend"],tS=[.01,.02,.05,.1,.2,.5,1,2,5,10,20,50,100,200,500,1e3,2e3,5e3,1e4],tE={"top-right":{top:10,right:10,bottom:"auto",left:"auto"},"top-left":{top:10,left:10,bottom:"auto",right:"auto"},"bottom-right":{bottom:10,right:10,top:"auto",left:"auto"},"bottom-left":{bottom:10,left:10,top:"auto",right:"auto"}},tk={position:"absolute",zIndex:10,boxShadow:"0px 1px 4px rgba(0, 0, 0, .3)",border:"1px solid rgba(0, 0, 0, 0.1)",right:50,backgroundColor:"#fff",opacity:.85,display:"flex",flexDirection:"row",alignItems:"baseline",padding:"3px 7px"},tj={border:"2px solid #7e8490",boxShadow:"0px 1px 4px rgba(0, 0, 0, .3)",borderTop:"none",height:7,borderBottomLeftRadius:1,borderBottomRightRadius:1},tD=Object.keys(tE),tI=_(function(t){function o(){var o=null!==t&&t.apply(this,arguments)||this;return o.state={chosenScale:0,scaleWidth:60},o.setScale=function(){var t=o.props,e=t.measurement,r=t.map,n=r._canvas.clientWidth,i=r.getBounds(),a=i._ne,s=i._sw,p=o._getDistanceTwoPoints([s.lng,a.lat],[a.lng,a.lat],e),u=p/n*60,c=tS.reduce(function(t,o){return!t&&o>u?o:t},0);o.setState({chosenScale:c,scaleWidth:c/p*n})},o}return tx(o,t),o.prototype.componentDidMount=function(){var t=this;this.setScale(),tP.forEach(function(o){t.props.map.on(o,t.setScale)})},o.prototype.componentWillUnmount=function(){var t=this;this.props.map&&tP.forEach(function(o){t.props.map.off(o,t.setScale)})},o.prototype._getDistanceTwoPoints=function(t,o,e){void 0===e&&(e="km");var r=t[0],n=t[1],i=o[0],a=o[1],s="km"===e?6371:3958.765705195919,p=this._deg2rad(a-n),u=this._deg2rad(i-r),c=Math.sin(p/2)*Math.sin(p/2)+Math.cos(this._deg2rad(n))*Math.cos(this._deg2rad(a))*Math.sin(u/2)*Math.sin(u/2);return 2*Math.atan2(Math.sqrt(c),Math.sqrt(1-c))*s},o.prototype._deg2rad=function(t){return Math.PI/180*t},o.prototype._displayMeasurement=function(t,o){return o>=1?o+" "+t:"mi"===t?Math.floor(5280*o)+" ft":Math.floor(1e3*o)+" m"},o.prototype.render=function(){var t=this.props,o=t.measurement,e=t.style,r=t.position,n=t.className,i=t.tabIndex,a=this.state,s=a.chosenScale,p=a.scaleWidth;return v.createElement("div",{tabIndex:i,style:t_({},tk,tE[r],e),className:n},v.createElement("div",{style:t_({},tj,{width:p})}),v.createElement("div",{style:{paddingLeft:10}},this._displayMeasurement(o,s)))},o.defaultProps={measurement:"km",position:tD[2]},o}(v.Component)),tL=function(){return(tL=Object.assign||function(t){for(var o,e=1,r=arguments.length;e<r;e++)for(var n in o=arguments[e])Object.prototype.hasOwnProperty.call(o,n)&&(t[n]=o[n]);return t}).apply(this,arguments)},tz=["mapboxgl-marker"],tA=function(t){return v.createElement(tv,tL({},tL({},t),{type:"marker",className:tb(tz,t.className)}))},tZ=(f=function(t,o){return(f=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var e in o)o.hasOwnProperty(e)&&(t[e]=o[e])})(t,o)},function(t,o){function e(){this.constructor=t}f(t,o),t.prototype=null===o?Object.create(o):(e.prototype=o.prototype,new e)}),tF=function(){return(tF=Object.assign||function(t){for(var o,e=1,r=arguments.length;e<r;e++)for(var n in o=arguments[e])Object.prototype.hasOwnProperty.call(o,n)&&(t[n]=o[n]);return t}).apply(this,arguments)},tR=_(function(t){function o(){var o=null!==t&&t.apply(this,arguments)||this;return o.id=o.props.id,o.onStyleDataChange=function(){o.props.map.getLayer(o.id)||(o.initialize(),o.forceUpdate())},o.initialize=function(){var t=o.props.map,e=o.props,r=e.geoJsonSource,n=e.tileJsonSource,i=e.onSourceAdded;!t.getSource(o.id)&&(r||n)&&(r?t.addSource(o.id,r):n&&t.addSource(o.id,n),t.on("sourcedata",o.onData),i&&i(t.getSource(o.id)))},o.onData=function(){var t=o.props.map,e=t.getSource(o.props.id);if(e&&t.isSourceLoaded(o.props.id)){var r=o.props.onSourceLoaded;e&&r&&r(e),e&&o.props.geoJsonSource&&o.props.geoJsonSource.data&&e.setData(o.props.geoJsonSource.data),t.off("sourcedata",o.onData)}},o}return tZ(o,t),o.prototype.componentDidMount=function(){this.props.map.on("styledata",this.onStyleDataChange),this.initialize()},o.prototype.removeSource=function(){var t=this,o=this.props.map;if(o.getSource(this.id)){var e=o.getStyle().layers,r=void 0===e?[]:e;return(r=r.map(function(t,o){var e=(r[o+1]||{id:void 0}).id;return tF({},t,{before:e})}).filter(function(o){return o.source===t.id})).forEach(function(t){return o.removeLayer(t.id)}),o.removeSource(this.id),r.reverse()}return[]},o.prototype.componentWillUnmount=function(){var t=this.props.map;t&&t.getStyle()&&(t.off("styledata",this.onStyleDataChange),this.removeSource())},o.prototype.componentDidUpdate=function(t){var o=t.geoJsonSource,e=t.tileJsonSource,r=t.map,n=r.getSource(this.id);if(e&&this.props.tileJsonSource){var i=!1,a=!1;if(n&&"vector"===n.type&&(e.url!==this.props.tileJsonSource.url&&void 0!==this.props.tileJsonSource.url&&(n.setUrl(this.props.tileJsonSource.url),i=!0),e.tiles!==this.props.tileJsonSource.tiles&&void 0!==this.props.tileJsonSource.tiles&&(n.setTiles(this.props.tileJsonSource.tiles),a=!0)),!i&&e.url!==this.props.tileJsonSource.url||!a&&e.tiles!==this.props.tileJsonSource.tiles||e.minzoom!==this.props.tileJsonSource.minzoom||e.maxzoom!==this.props.tileJsonSource.maxzoom){var s=this.removeSource();r.addSource(this.id,this.props.tileJsonSource),s.forEach(function(t){return r.addLayer(t,t.before)})}}o&&this.props.geoJsonSource&&this.props.geoJsonSource.data!==o.data&&this.props.geoJsonSource.data&&n&&"geojson"===n.type&&n.setData(this.props.geoJsonSource.data)},o.prototype.render=function(){return null},o}(v.Component));function tB(t,o,e,r){tT(t,e,r),tT(o,2*e,2*r),tT(o,2*e+1,2*r+1)}function tT(t,o,e){let r=t[o];t[o]=t[e],t[e]=r}function tN(t,o,e,r){let n=t-e,i=o-r;return n*n+i*i}let tU=t=>t[0],tJ=t=>t[1];class tW{constructor(t,o=tU,e=tJ,r=64,n=Float64Array){this.nodeSize=r,this.points=t;let i=t.length<65536?Uint16Array:Uint32Array,a=this.ids=new i(t.length),s=this.coords=new n(2*t.length);for(let r=0;r<t.length;r++)a[r]=r,s[2*r]=o(t[r]),s[2*r+1]=e(t[r]);!function t(o,e,r,n,i,a){if(i-n<=r)return;let s=n+i>>1;(function t(o,e,r,n,i,a){for(;i>n;){if(i-n>600){let s=i-n+1,p=r-n+1,u=Math.log(s),c=.5*Math.exp(2*u/3),l=.5*Math.sqrt(u*c*(s-c)/s)*(p-s/2<0?-1:1),f=Math.max(n,Math.floor(r-p*c/s+l)),h=Math.min(i,Math.floor(r+(s-p)*c/s+l));t(o,e,r,f,h,a)}let s=e[2*r+a],p=n,u=i;for(tB(o,e,n,r),e[2*i+a]>s&&tB(o,e,n,i);p<u;){for(tB(o,e,p,u),p++,u--;e[2*p+a]<s;)p++;for(;e[2*u+a]>s;)u--}e[2*n+a]===s?tB(o,e,n,u):tB(o,e,++u,i),u<=r&&(n=u+1),r<=u&&(i=u-1)}})(o,e,s,n,i,a%2),t(o,e,r,n,s-1,a+1),t(o,e,r,s+1,i,a+1)}(a,s,r,0,a.length-1,0)}range(t,o,e,r){return function(t,o,e,r,n,i,a){let s,p;let u=[0,t.length-1,0],c=[];for(;u.length;){let l=u.pop(),f=u.pop(),h=u.pop();if(f-h<=a){for(let a=h;a<=f;a++)s=o[2*a],p=o[2*a+1],s>=e&&s<=n&&p>=r&&p<=i&&c.push(t[a]);continue}let d=Math.floor((h+f)/2);s=o[2*d],p=o[2*d+1],s>=e&&s<=n&&p>=r&&p<=i&&c.push(t[d]);let m=(l+1)%2;(0===l?e<=s:r<=p)&&(u.push(h),u.push(d-1),u.push(m)),(0===l?n>=s:i>=p)&&(u.push(d+1),u.push(f),u.push(m))}return c}(this.ids,this.coords,t,o,e,r,this.nodeSize)}within(t,o,e){return function(t,o,e,r,n,i){let a=[0,t.length-1,0],s=[],p=n*n;for(;a.length;){let u=a.pop(),c=a.pop(),l=a.pop();if(c-l<=i){for(let n=l;n<=c;n++)tN(o[2*n],o[2*n+1],e,r)<=p&&s.push(t[n]);continue}let f=Math.floor((l+c)/2),h=o[2*f],d=o[2*f+1];tN(h,d,e,r)<=p&&s.push(t[f]);let m=(u+1)%2;(0===u?e-n<=h:r-n<=d)&&(a.push(l),a.push(f-1),a.push(m)),(0===u?e+n>=h:r+n>=d)&&(a.push(f+1),a.push(c),a.push(m))}return s}(this.ids,this.coords,t,o,e,this.nodeSize)}}let tq={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:t=>t},tG=Math.fround||(h=new Float32Array(1),t=>(h[0]=+t,h[0]));class tH{constructor(t){this.options=tX(Object.create(tq),t),this.trees=Array(this.options.maxZoom+1)}load(t){let{log:o,minZoom:e,maxZoom:r,nodeSize:n}=this.options;o&&console.time("total time");let i=`prepare ${t.length} points`;o&&console.time(i),this.points=t;let a=[];for(let o=0;o<t.length;o++)t[o].geometry&&a.push(function(t,o){let[e,r]=t.geometry.coordinates;return{x:tG(tQ(e)),y:tG(tV(r)),zoom:1/0,index:o,parentId:-1}}(t[o],o));this.trees[r+1]=new tW(a,tY,t0,n,Float32Array),o&&console.timeEnd(i);for(let t=r;t>=e;t--){let e=+Date.now();a=this._cluster(a,t),this.trees[t]=new tW(a,tY,t0,n,Float32Array),o&&console.log("z%d: %d clusters in %dms",t,a.length,+Date.now()-e)}return o&&console.timeEnd("total time"),this}getClusters(t,o){let e=((t[0]+180)%360+360)%360-180,r=Math.max(-90,Math.min(90,t[1])),n=180===t[2]?180:((t[2]+180)%360+360)%360-180,i=Math.max(-90,Math.min(90,t[3]));if(t[2]-t[0]>=360)e=-180,n=180;else if(e>n){let t=this.getClusters([e,r,180,i],o),a=this.getClusters([-180,r,n,i],o);return t.concat(a)}let a=this.trees[this._limitZoom(o)],s=a.range(tQ(e),tV(i),tQ(n),tV(r)),p=[];for(let t of s){let o=a.points[t];p.push(o.numPoints?t$(o):this.points[o.index])}return p}getChildren(t){let o=this._getOriginId(t),e=this._getOriginZoom(t),r="No cluster with the specified id.",n=this.trees[e];if(!n)throw Error(r);let i=n.points[o];if(!i)throw Error(r);let a=this.options.radius/(this.options.extent*Math.pow(2,e-1)),s=n.within(i.x,i.y,a),p=[];for(let o of s){let e=n.points[o];e.parentId===t&&p.push(e.numPoints?t$(e):this.points[e.index])}if(0===p.length)throw Error(r);return p}getLeaves(t,o,e){o=o||10,e=e||0;let r=[];return this._appendLeaves(r,t,o,e,0),r}getTile(t,o,e){let r=this.trees[this._limitZoom(t)],n=Math.pow(2,t),{extent:i,radius:a}=this.options,s=a/i,p=(e-s)/n,u=(e+1+s)/n,c={features:[]};return this._addTileFeatures(r.range((o-s)/n,p,(o+1+s)/n,u),r.points,o,e,n,c),0===o&&this._addTileFeatures(r.range(1-s/n,p,1,u),r.points,n,e,n,c),o===n-1&&this._addTileFeatures(r.range(0,p,s/n,u),r.points,-1,e,n,c),c.features.length?c:null}getClusterExpansionZoom(t){let o=this._getOriginZoom(t)-1;for(;o<=this.options.maxZoom;){let e=this.getChildren(t);if(o++,1!==e.length)break;t=e[0].properties.cluster_id}return o}_appendLeaves(t,o,e,r,n){for(let i of this.getChildren(o)){let o=i.properties;if(o&&o.cluster?n+o.point_count<=r?n+=o.point_count:n=this._appendLeaves(t,o.cluster_id,e,r,n):n<r?n++:t.push(i),t.length===e)break}return n}_addTileFeatures(t,o,e,r,n,i){for(let a of t){let t,s,p,u;let c=o[a],l=c.numPoints;if(l)t=tK(c),s=c.x,p=c.y;else{let o=this.points[c.index];t=o.properties,s=tQ(o.geometry.coordinates[0]),p=tV(o.geometry.coordinates[1])}let f={type:1,geometry:[[Math.round(this.options.extent*(s*n-e)),Math.round(this.options.extent*(p*n-r))]],tags:t};l?u=c.id:this.options.generateId?u=c.index:this.points[c.index].id&&(u=this.points[c.index].id),void 0!==u&&(f.id=u),i.features.push(f)}}_limitZoom(t){return Math.max(this.options.minZoom,Math.min(Math.floor(+t),this.options.maxZoom+1))}_cluster(t,o){let e=[],{radius:r,extent:n,reduce:i,minPoints:a}=this.options,s=r/(n*Math.pow(2,o));for(let r=0;r<t.length;r++){let n=t[r];if(n.zoom<=o)continue;n.zoom=o;let f=this.trees[o+1],h=f.within(n.x,n.y,s),d=n.numPoints||1,m=d;for(let t of h){let e=f.points[t];e.zoom>o&&(m+=e.numPoints||1)}if(m>d&&m>=a){var p,u,c,l;let t=n.x*d,a=n.y*d,s=i&&d>1?this._map(n,!0):null,y=(r<<5)+(o+1)+this.points.length;for(let e of h){let r=f.points[e];if(r.zoom<=o)continue;r.zoom=o;let p=r.numPoints||1;t+=r.x*p,a+=r.y*p,r.parentId=y,i&&(s||(s=this._map(n,!0)),i(s,this._map(r)))}n.parentId=y,e.push((p=t/m,u=a/m,c=m,l=s,{x:tG(p),y:tG(u),zoom:1/0,id:y,parentId:-1,numPoints:c,properties:l}))}else if(e.push(n),m>1)for(let t of h){let r=f.points[t];r.zoom<=o||(r.zoom=o,e.push(r))}}return e}_getOriginId(t){return t-this.points.length>>5}_getOriginZoom(t){return(t-this.points.length)%32}_map(t,o){if(t.numPoints)return o?tX({},t.properties):t.properties;let e=this.points[t.index].properties,r=this.options.map(e);return o&&r===e?tX({},r):r}}function t$(t){return{type:"Feature",id:t.id,properties:tK(t),geometry:{type:"Point",coordinates:[(t.x-.5)*360,360*Math.atan(Math.exp((180-360*t.y)*Math.PI/180))/Math.PI-90]}}}function tK(t){let o=t.numPoints,e=o>=1e4?`${Math.round(o/1e3)}k`:o>=1e3?`${Math.round(o/100)/10}k`:o;return tX(tX({},t.properties),{cluster:!0,cluster_id:t.id,point_count:o,point_count_abbreviated:e})}function tQ(t){return t/360+.5}function tV(t){let o=Math.sin(t*Math.PI/180),e=.5-.25*Math.log((1+o)/(1-o))/Math.PI;return e<0?0:e>1?1:e}function tX(t,o){for(let e in o)t[e]=o[e];return t}function tY(t){return t.x}function t0(t){return t.y}var t1=e(3292),t2=e.n(t1),t3=e(7057),t5=(d=function(t,o){return(d=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var e in o)o.hasOwnProperty(e)&&(t[e]=o[e])})(t,o)},function(t,o){function e(){this.constructor=t}d(t,o),t.prototype=null===o?Object.create(o):(e.prototype=o.prototype,new e)});_(function(t){function o(){var o=null!==t&&t.apply(this,arguments)||this;return o.state={superC:new tH({radius:o.props.radius,maxZoom:o.props.maxZoom,minZoom:o.props.minZoom,extent:o.props.extent,nodeSize:o.props.nodeSize,log:o.props.log}),clusterPoints:[]},o.featureClusterMap=new WeakMap,o.childrenChange=function(t){var e=o.state.superC;o.featureClusterMap=new WeakMap;var r=o.childrenToFeatures(t);e.load(r)},o.mapChange=function(t){void 0===t&&(t=!1);var e=o.props.map,r=o.state,n=r.superC,i=r.clusterPoints,a=e.getZoom(),s=e.getCanvas(),p=s.width,u=s.height,c=e.unproject([0,0]).toArray(),l=e.unproject([p,0]).toArray(),f=e.unproject([p,u]).toArray(),h=e.unproject([0,u]).toArray(),d=n.getClusters(t2()((0,t3.polygon)([[c,l,f,h,c]])),Math.round(a));(d.length!==i.length||t)&&o.setState({clusterPoints:d})},o.childrenToFeatures=function(t){return t.map(function(t){var e=o.feature(t&&t.props.coordinates);return o.featureClusterMap.set(e,t),e})},o.getLeaves=function(t,e,r){return o.state.superC.getLeaves(t.properties&&t.properties.cluster_id,e||1/0,r).map(function(t){return o.featureClusterMap.get(t)})},o.zoomToClusterBounds=function(t){var e=Array.prototype.slice.call(t.currentTarget.children),r=o.findMarkerElement(t.currentTarget,t.target),n=e.indexOf(r),i=o.state.clusterPoints[n];if(i.properties&&i.properties.cluster_id){var a=o.state.superC.getLeaves(i.properties&&i.properties.cluster_id,1/0),s=t2()((0,t3.featureCollection)(a));o.props.map.fitBounds(g.LngLatBounds.convert(s),{padding:o.props.zoomOnClickPadding})}},o}return t5(o,t),o.prototype.componentDidMount=function(){var t=this.props,o=t.children,e=t.map;o&&this.childrenChange(o),e.on("move",this.mapChange),e.on("zoom",this.mapChange),this.mapChange()},o.prototype.componentWillUnmount=function(){var t=this.props.map;t.off("move",this.mapChange),t.off("zoom",this.mapChange)},o.prototype.componentDidUpdate=function(t){t.children!==this.props.children&&this.props.children&&(this.childrenChange(this.props.children),this.mapChange(!0))},o.prototype.feature=function(t){return{type:"Feature",geometry:{type:"Point",coordinates:t},properties:{}}},o.prototype.findMarkerElement=function(t,o){return o.parentElement===t?o:this.findMarkerElement(t,o.parentElement)},o.prototype.render=function(){var t=this,o=this.props,e=o.ClusterMarkerFactory,r=o.style,n=o.className,i=o.tabIndex,a=this.state.clusterPoints;return v.createElement("div",{style:r,className:n,tabIndex:i,onClick:this.props.zoomOnClick?this.zoomToClusterBounds:void 0},a.map(function(o){return o.properties&&o.properties.cluster?e(o.geometry.coordinates,o.properties.point_count,t.getLeaves.bind(t,o)):t.featureClusterMap.get(o)}))},o.defaultProps={radius:60,minZoom:0,maxZoom:16,extent:512,nodeSize:64,log:!1,zoomOnClick:!1,zoomOnClickPadding:20},o}(v.Component));var t6=(m=function(t,o){return(m=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var e in o)o.hasOwnProperty(e)&&(t[e]=o[e])})(t,o)},function(t,o){function e(){this.constructor=t}m(t,o),t.prototype=null===o?Object.create(o):(e.prototype=o.prototype,new e)}),t9=function(){return(t9=Object.assign||function(t){for(var o,e=1,r=arguments.length;e<r;e++)for(var n in o=arguments[e])Object.prototype.hasOwnProperty.call(o,n)&&(t[n]=o[n]);return t}).apply(this,arguments)},t4={position:"absolute",zIndex:10,display:"flex",flexDirection:"column",boxShadow:"0px 1px 4px rgba(0, 0, 0, .3)",border:"1px solid rgba(0, 0, 0, 0.1)"},t7={"top-right":{top:62,right:10,bottom:"auto",left:"auto"},"top-left":{top:62,left:10,bottom:"auto",right:"auto"},"bottom-right":{bottom:63,right:10,top:"auto",left:"auto"},"bottom-left":{bottom:63,left:10,top:"auto",right:"auto"}},t8={backgroundColor:"#f9f9f9",opacity:.95,transition:"background-color 0.16s ease-out",cursor:"pointer",border:0,height:26,width:26,outline:0,padding:3},ot={backgroundColor:"#fff",opacity:1},oo={borderBottom:"1px solid rgba(0, 0, 0, 0.1)",borderTopLeftRadius:2,borderTopRightRadius:2,borderBottomLeftRadius:2,borderBottomRightRadius:2},oe=function(){return v.createElement("svg",{viewBox:"0 0 20 20"},v.createElement("polygon",{fill:"#333333",points:"6,9 10,1 14,9"}),v.createElement("polygon",{fill:"#CCCCCC",points:"6,11 10,19 14,11"}))},or={width:20,height:20,display:"inline-block"},on=Object.keys(t7);_(function(t){function o(){var o=null!==t&&t.apply(this,arguments)||this;return o.state={hover:void 0},o.compassIcon=null,o.onMouseOut=function(){o.state.hover||o.setState({hover:void 0})},o.onMouseIn=function(){0!==o.state.hover&&o.setState({hover:0})},o.onClickCompass=function(){o.props.map.resetNorth()},o.onMapRotate=function(){var t="rotate("+o.props.map.transform.angle*(180/Math.PI)+"deg)";o.compassIcon&&(o.compassIcon.style.transform=t)},o.assignRef=function(t){o.compassIcon=t},o}return t6(o,t),o.prototype.componentDidMount=function(){this.props.map.on("rotate",this.onMapRotate)},o.prototype.componentWillUnmount=function(){this.props.map.off("rotate",this.onMapRotate)},o.prototype.render=function(){var t=this.props,o=t.position,e=t.style,r=t.className,n=t.tabIndex,i=this.state.hover,a=t9({},t8,oo,0===i?ot:{});return v.createElement("div",{className:r,tabIndex:n,style:t9({},t4,t7[o],e)},v.createElement("button",{style:a,onMouseOver:this.onMouseIn,onMouseOut:this.onMouseOut,onClick:this.onClickCompass},v.createElement("span",{ref:this.assignRef,style:or},v.createElement(oe,null))))},o.defaultProps={position:on[0]},o}(v.Component));var oi=(y=function(t,o){return(y=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var e in o)o.hasOwnProperty(e)&&(t[e]=o[e])})(t,o)},function(t,o){function e(){this.constructor=t}y(t,o),t.prototype=null===o?Object.create(o):(e.prototype=o.prototype,new e)});_(function(t){function o(){return null!==t&&t.apply(this,arguments)||this}return oi(o,t),o.prototype.componentDidMount=function(){this.loadImage(this.props)},o.prototype.componentWillUnmount=function(){o.removeImage(this.props)},o.prototype.componentDidUpdate=function(t){var e=t.id;t.map!==this.props.map&&o.removeImage(this.props),this.props.map&&!this.props.map.hasImage(e)&&this.loadImage(this.props)},o.prototype.render=function(){return null},o.prototype.loadImage=function(t){var o=this,e=t.map,r=t.id,n=t.url,i=t.data,a=t.options,s=t.onError;i?(e.addImage(r,i,a),this.loaded()):n&&e.loadImage(n,function(t,n){if(t){s&&s(t);return}e.addImage(r,n,a),o.loaded()})},o.removeImage=function(t){var o=t.id,e=t.map;e&&e.getStyle()&&e.removeImage(o)},o.prototype.loaded=function(){var t=this.props.onLoaded;t&&t()},o}(v.Component));var oa=_(function(t){function o(){var o=null!==t&&t.apply(this,arguments)||this;return o.hover=[],o.draggedChildren=void 0,o.id=o.props.id||"layer-"+T(),o.getChildren=function(){return[].concat(o.props.children).filter(function(t){return void 0!==t})},o.getChildFromId=function(t,o){return t[o]},o.areFeaturesDraggable=function(t,e){return void 0===e&&(e=o.hover),!!e.map(function(e){return!!o.getChildFromId(t,e)&&o.getChildFromId(t,e).props.draggable}).filter(Boolean).length},o.onClick=function(t){var e=t.features,r=o.getChildren(),n=o.props.map;e&&e.forEach(function(e){var i=e.properties.id;if(r){var a=o.getChildFromId(r,i),s=a&&a.props.onClick;s&&s(U({},t,{feature:e,map:n}))}})},o.onMouseEnter=function(t){var e=o.getChildren(),r=o.props.map;o.hover=[],t.features.forEach(function(n){var i=n.properties.id,a=o.getChildFromId(e,i);o.hover.push(i);var s=a&&a.props.onMouseEnter;s&&s(U({},t,{feature:n,map:r}))}),o.areFeaturesDraggable(e)&&r.dragPan.disable()},o.onMouseLeave=function(t){var e=o.getChildren(),r=o.props.map;o.areFeaturesDraggable(e)&&r.dragPan.enable(),o.hover.forEach(function(n){var i=o.getChildFromId(e,n),a=i&&i.props.onMouseLeave;a&&a(U({},t,{map:r}))}),o.draggedChildren||(o.hover=[])},o.onMouseDown=function(){o.hover.length&&o.onFeatureDown("mousedown")},o.onTouchStart=function(t){o.hover=t.features.map(function(t){return t.properties.id}),o.hover.length&&o.onFeatureDown("touchstart")},o.onFeatureDown=function(t){var e="mousedown"===t?"mousemove":"touchmove",r=o.props.map;r.once(e,o.onFeatureDragStart),r.on(e,o.onFeatureDrag),r.once("mousedown"===t?"mouseup":"touchend",function(t){r.off(e,o.onFeatureDragStart),r.off(e,o.onFeatureDrag),o.onFeatureDragEnd(t)})},o.onFeatureDragStart=function(t){var e=o.props.map,r=o.getChildren();o.hover.forEach(function(n){var i=o.getChildFromId(r,n);if(!i||i.props.draggable){var a=i&&i.props.onDragStart;a&&a(U({},t,{map:e}))}})},o.onFeatureDrag=function(t){var e=o.getChildren(),r=o.props.map,n=t.lngLat,i=n.lng,a=n.lat;o.draggedChildren=[],o.hover.forEach(function(n){var s=o.getChildFromId(e,n),p=s&&s.props.onDrag;s&&s.props.draggable&&(o.draggedChildren.push(v.cloneElement(s,{coordinates:[i,a]})),p&&p(U({},t,{map:r})))}),o.forceUpdate()},o.onFeatureDragEnd=function(t){var e=o.props.map,r=o.getChildren();o.hover.forEach(function(n){var i=o.getChildFromId(r,n),a=i&&i.props.onDragEnd;a&&i.props.draggable&&o.draggedChildren&&a(U({},t,{map:e}))}),o.draggedChildren=void 0},o}return N(o,t),o.prototype.componentDidMount=function(){var t=this.props.map;t.on("click",this.id,this.onClick),t.on("mouseenter",this.id,this.onMouseEnter),t.on("mouseleave",this.id,this.onMouseLeave),t.on("mousedown",this.id,this.onMouseDown),t.on("touchstart",this.id,this.onTouchStart)},o.prototype.componentWillUnmount=function(){var t=this.props.map;t.off("click",this.onClick),t.off("mouseenter",this.onMouseEnter),t.off("mouseleave",this.onMouseLeave),t.off("mousedown",this.onMouseDown),t.off("touchstart",this.onTouchStart)},o.prototype.render=function(){return v.createElement(R,U({},this.props,{id:this.id,map:this.props.map,draggedChildren:this.draggedChildren}))},o}(v.Component)),os=function(t){var o,e=t.accessToken,r=t.apiUrl,n=t.minZoom,i=void 0===n?0:n,a=t.maxZoom,s=void 0===a?20:a,p=t.hash,u=void 0!==p&&p,c=t.preserveDrawingBuffer,l=void 0!==c&&c,f=t.scrollZoom,h=void 0===f||f,d=t.interactive,m=void 0===d||d,y=t.dragRotate,b=void 0===y||y,M=t.pitchWithRotate,_=void 0===M||M,L=t.attributionControl,z=void 0===L||L,A=t.customAttribution,Z=t.logoPosition,F=void 0===Z?"bottom-left":Z,R=t.renderWorldCopies,B=void 0===R||R,T=t.trackResize,N=void 0===T||T,U=t.touchZoomRotate,J=void 0===U||U,W=t.doubleClickZoom,q=void 0===W||W,G=t.keyboard,H=void 0===G||G,$=t.dragPan,K=void 0===$||$,Q=t.boxZoom,V=void 0===Q||Q,X=t.refreshExpiredTiles,Y=void 0===X||X,tt=t.failIfMajorPerformanceCaveat,to=void 0!==tt&&tt,te=t.bearingSnap,tr=void 0===te?7:te,tn=t.antialias,ti=void 0!==tn&&tn,ta=t.mapInstance,ts=t.transformRequest;return(o=function(t){function o(){var o=null!==t&&t.apply(this,arguments)||this;return o.state={map:ta,ready:!1},o.listeners={},o._isMounted=!0,o.calcCenter=function(t){return[(t[0][0]+t[1][0])/2,(t[0][1]+t[1][1])/2]},o.setRef=function(t){o.container=t},o}return S(o,t),o.prototype.componentDidMount=function(){var t=this,o=this.props,n=o.style,a=o.onStyleLoad,p=o.center,c=o.pitch,f=o.zoom,d=o.fitBounds,y=o.fitBoundsOptions,v=o.bearing,w=o.maxBounds;if(g.accessToken=e,r&&(g.config.API_URL=r),!Array.isArray(f))throw Error("zoom need to be an array type of length 1 for reliable update");var M={preserveDrawingBuffer:l,hash:u,zoom:f[0],minZoom:i,maxZoom:s,maxBounds:w,container:this.container,center:d&&p===I?this.calcCenter(d):p,style:n,scrollZoom:h,attributionControl:z,customAttribution:A,interactive:m,dragRotate:b,pitchWithRotate:_,renderWorldCopies:B,trackResize:N,touchZoomRotate:J,doubleClickZoom:q,keyboard:H,dragPan:K,boxZoom:V,refreshExpiredTiles:Y,logoPosition:F,bearingSnap:tr,failIfMajorPerformanceCaveat:to,antialias:ti,transformRequest:ts};if(v){if(!Array.isArray(v))throw Error("bearing need to be an array type of length 1 for reliable update");M.bearing=v[0]}if(c){if(!Array.isArray(c))throw Error("pitch need to be an array type of length 1 for reliable update");M.pitch=c[0]}var x=this.state.map;x||(x=new g.Map(M),this.setState({map:x})),d&&x.fitBounds(d,y,{fitboundUpdate:!0}),x.on("load",function(o){t._isMounted&&t.setState({ready:!0}),a&&a(x,o)}),this.listeners=O(C,this.props,x)},o.prototype.componentWillUnmount=function(){var t=this.state.map;this._isMounted=!1,t&&t.remove()},o.prototype.componentDidUpdate=function(t){var o=this,e=this.state.map;if(!e)return null;this.listeners=w(this.listeners,this.props,e);var r=e.getCenter(),n=e.getZoom(),i=e.getBearing(),a=e.getPitch(),s=t.zoom!==this.props.zoom&&(this.props.zoom&&this.props.zoom[0])!==n,p=t.center!==this.props.center&&((this.props.center&&this.props.center[0])!==r.lng||(this.props.center&&this.props.center[1])!==r.lat),u=t.bearing!==this.props.bearing&&(this.props.bearing&&this.props.bearing[0])!==i,c=t.pitch!==this.props.pitch&&(this.props.pitch&&this.props.pitch[0])!==a;if(this.props.maxBounds&&t.maxBounds!==this.props.maxBounds&&e.setMaxBounds(this.props.maxBounds),this.props.fitBounds){var l=t.fitBounds;(l!==this.props.fitBounds||this.props.fitBounds.length!==(l&&l.length)||l.filter(function(t,e){var r=o.props.fitBounds&&o.props.fitBounds[e];return t[0]!==(r&&r[0])||t[1]!==(r&&r[1])})[0]||!k(t.fitBoundsOptions,this.props.fitBoundsOptions))&&e.fitBounds(this.props.fitBounds,this.props.fitBoundsOptions,{fitboundUpdate:!0})}if(s||p||u||c){var f=this.props.movingMethod||D,h=this.props,d=h.flyToOptions,m=h.animationOptions;e[f](E({},m,d,{zoom:s&&this.props.zoom?this.props.zoom[0]:n,center:p?this.props.center:r,bearing:u?this.props.bearing:i,pitch:c?this.props.pitch:a}))}return k(t.style,this.props.style)||e.setStyle(this.props.style),null},o.prototype.render=function(){var t=this.props,o=t.containerStyle,e=t.className,r=t.children,n=t.renderChildrenInPortal,i=this.state,a=i.ready,s=i.map;if(n){var p=a&&s&&"function"==typeof s.getCanvasContainer?s.getCanvasContainer():void 0;return v.createElement(x.Provider,{value:s},v.createElement("div",{ref:this.setRef,className:e,style:E({},o)},a&&p&&(0,P.createPortal)(r,p)))}return v.createElement(x.Provider,{value:s},v.createElement("div",{ref:this.setRef,className:e,style:E({},o)},a&&r))},o}(v.Component)).defaultProps={onStyleLoad:function(t,o){return null},center:I,zoom:j,bearing:0,movingMethod:D,pitch:0,containerStyle:{textAlign:"left"}},o}}}]);