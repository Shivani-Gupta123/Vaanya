"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9527],{9527:function(e,l,d){d.r(l);var a=d(5893),s=d(381),o=d.n(s),i=d(7294),n=d(3299),c=d(5007),r=d(6340),t=d(4173),v=d(2134),m=d(1664),u=d.n(m);l.default=e=>{let l;let d=(0,c.v9)(e=>e.counter.ClickedOnBooking),[s,m]=(0,i.useState)(""),{data:h,status:x}=(0,n.useSession)(),[p,j]=(0,i.useState)(!1),N=(0,c.I0)();async function b(e,l){await (0,r.o4)(e,l).then(e=>{200===e.status&&(window.location.href="/check-out")}).catch(e=>{t.Am.error("Something unexpected happened or please try again later")})}(0,i.useEffect)(()=>{j(d)},[]);let k=e=>{e===s?m(""):m(e)};return void 0!=e.duration&&(l=parseInt(e.duration.split(" ")[0].trim())),(0,a.jsx)("div",{className:"yatra-dates",children:(0,a.jsxs)("div",{className:"container",children:[(0,a.jsxs)("h2",{className:"mb-5",children:[null==e?void 0:e.title," Departure Dates"]}),(0,a.jsx)("div",{className:"accordion",id:"accordionExample",children:e.monthpackdetails.map((d,i)=>{var n;return(0,a.jsxs)("div",{className:"accordion-item",children:[(0,a.jsx)("h2",{className:"accordion-header",id:"headingApril",children:(0,a.jsxs)("button",{className:s===d.month?"accordion-button":"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapseApril","aria-expanded":"true","aria-controls":"collapseApril",onClick:()=>k(d.month),children:["Departure Dates in ",d.month," ",d.year]})}),(0,a.jsx)("div",{id:"collapseApril",className:s===d.month?"accordion-collapse collapse show":"accordion-collapse collapse","aria-labelledby":"headingApril","data-bs-parent":"#accordionExample",children:(0,a.jsxs)("div",{className:"accordion-body",children:[(0,a.jsxs)("div",{className:"row  ml-column",children:[(0,a.jsx)("div",{className:"col-md-2 d-none d-md-block text-center",children:(0,a.jsx)("p",{className:"m-0",children:"Bach No."})}),(0,a.jsx)("div",{className:"col-md-3 d-none d-md-block text-center",children:(0,a.jsx)("p",{className:"m-0",children:"Start Date / End Date "})}),(0,a.jsx)("div",{className:"col-md-1 d-none d-md-block text-center",children:(0,a.jsx)("p",{className:"m-0",style:{fontSize:"13px"},children:"No. of Seat"})}),(0,a.jsx)("div",{className:"col-md-2 d-none d-md-block text-center",children:(0,a.jsx)("p",{className:"m-0",children:"Special Date"})}),(0,a.jsx)("div",{className:"col-md-2 d-none d-md-block text-center",children:(0,a.jsx)("p",{className:"m-0",children:"Price"})})]}),(0,a.jsx)("div",{className:"date-scrollbar",children:null==d?void 0:null===(n=d.packagedates)||void 0===n?void 0:n.map((d,s)=>{var i,n,c,r,t,m,h,p,j,k,f,y,w,g,D,P,M,S,A,C,E,B,_;return(0,a.jsx)("div",{className:"dates-row",children:(0,a.jsxs)("div",{className:"row ml-column",children:[(0,a.jsx)("div",{className:"col-md-2 text-center px-i",children:(0,a.jsx)("div",{className:"yatra-code",children:(0,a.jsx)("p",{children:(0,a.jsx)("strong",{children:null!==(w=null==d?void 0:d.bachNo)&&void 0!==w?w:""})})})}),(0,a.jsxs)("div",{className:"col-md-3 text-center pt-2 px-i",children:[(0,a.jsxs)("div",{className:"start-date",children:[(0,a.jsx)("span",{children:null!==(g=o()(null==d?void 0:d.yatraDate).format("MMM"))&&void 0!==g?g:""}),(0,a.jsxs)("div",{className:"s-date",children:[(0,a.jsx)("strong",{children:null!==(D=o()(null==d?void 0:d.yatraDate).format("DD"))&&void 0!==D?D:""}),null!==(P=o()(null==d?void 0:d.yatraDate).format("ddd"))&&void 0!==P?P:""]})]}),(0,a.jsx)("div",{className:"date-arrow"}),(0,a.jsxs)("div",{className:"end-date",children:[(0,a.jsx)("span",{children:null!==(M=o()(null==d?void 0:d.yatraDate).add(l,"days").format("MMM"))&&void 0!==M?M:""}),(0,a.jsxs)("div",{className:"s-date",children:[(0,a.jsx)("strong",{children:null!==(S=o()(null==d?void 0:d.yatraDate).add(l,"days").format("DD"))&&void 0!==S?S:""}),null!==(A=o()(null==d?void 0:d.yatraDate).add(l,"days").format("ddd"))&&void 0!==A?A:""]})]})]}),(0,a.jsx)("div",{className:"col-md-1 px-i",children:(0,a.jsx)("div",{className:(null==d?void 0:d.noofPerson)-((null==d?void 0:null===(i=d.bookedPersons)||void 0===i?void 0:i.windowseat)+(null==d?void 0:null===(n=d.bookedPersons)||void 0===n?void 0:n.sideseat))==0?"availability close":d.noofPerson-(null!==(C=(null==d?void 0:null===(c=d.bookedPersons)||void 0===c?void 0:c.windowseat)+(null==d?void 0:null===(r=d.bookedPersons)||void 0===r?void 0:r.sideseat))&&void 0!==C?C:"")>5?"availability open":"availability limited",children:(null==d?void 0:d.noofPerson)>(null==d?void 0:null===(t=d.bookedPersons)||void 0===t?void 0:t.windowseat)+(null==d?void 0:null===(m=d.bookedPersons)||void 0===m?void 0:m.sideseat)?d.noofPerson-((null==d?void 0:null===(h=d.bookedPersons)||void 0===h?void 0:h.windowseat)+(null==d?void 0:null===(p=d.bookedPersons)||void 0===p?void 0:p.sideseat)):(null==d?void 0:null===(j=d.bookedPersons)||void 0===j?void 0:j.windowseat)+(null==d?void 0:null===(k=d.bookedPersons)||void 0===k?void 0:k.sideseat)-(null==d?void 0:d.noofPerson)})}),(0,a.jsx)("div",{className:"col-md-2 text-center px-i",children:(0,a.jsxs)("div",{className:"special-date",children:[(0,a.jsxs)("p",{children:["\xa0 ",d.specialDay]}),(0,a.jsx)("span",{children:o()(d.specialDate).format("ddd Do MMM")})]})}),(0,a.jsx)("div",{className:"col-md-2 text-center px-i",children:(0,a.jsxs)("div",{className:"yatra-price",children:[(0,a.jsxs)("span",{children:["₹",null!==(E=null==e?void 0:e.pricehide)&&void 0!==E?E:"","/-"]}),(0,a.jsxs)("strong",{children:["₹",null!==(B=null==d?void 0:d.inrPrice)&&void 0!==B?B:"","/-"]}),(0,a.jsxs)("small",{children:["Save ₹",(null==e?void 0:e.pricehide)-(null==d?void 0:d.inrPrice),"/-"]})]})}),(0,a.jsx)("div",{className:"col-md-2 text-center px-i",children:(null==d?void 0:d.noofPerson)-((null==d?void 0:null===(f=d.bookedPersons)||void 0===f?void 0:f.windowseat)+(null==d?void 0:null===(y=d.bookedPersons)||void 0===y?void 0:y.sideseat))==0?(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(u(),{href:"javascript:void(0);",className:"booking-btn close",children:"Booking Closed"})}):(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(u(),{href:"javascript:void(0);",onClick:()=>{var l,a;return l=e.packageid,a=null==d?void 0:d.yatraDate,void("authenticated"===x?b(l,a):(N((0,v.Nc)(!0)),N((0,v.wc)(!0)),N((0,v.kH)({pkgId:l,pgkDate:a}))))},className:"booking-btn",children:"Booking Open"})})})]})},s)})})]})})]},i)})})]})})}}}]);